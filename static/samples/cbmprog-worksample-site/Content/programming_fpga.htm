<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="1. FPGA">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>1.3 Programming the FPGA</title>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="Resources/Stylesheets/HB_Stylesheet.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js">
        </script>
        <script src="../Resources/Scripts/require.config.js">
        </script>
        <script src="../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><span class="MCBreadcrumbsSelf">1. FPGA</span><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">1.3 Programming the FPGA</span>
        </div>
        <h1>1.3 Programming the FPGA</h1>
        <ol>
            <li value="1">On your computer, double-click the <span class="filename">flashpro.exe</span> application. The <span class="boldname">FlashPro</span> window opens.</li>
            <li value="2">Select the <span class="buttonname">Open Project</span> button on the <span class="boldname">FlashPro</span> window. The <span class="boldname">Open Project</span> window opens (Figure 1).</li>
        </ol>
        <div class="figcap">
            <p>Figure 1 Open Project Window</p>
        </div>
        <p>
            <img src="Resources/Images/openprojectwindow.jpg" title="Open Project Window" alt="Screenshot of the Open Project window" />
        </p>
        <ol data-mc-continue="true">
            <li value="3">In the <span class="boldname">Open Project</span> window, navigate to the folder where the project is saved and select the project file.</li>
            <li value="4">Click the <span class="buttonname">Open</span> button. The project opens in the <span class="boldname">FlashPro</span> window.</li>
            <li value="5">Click the <span class="buttonname">Refresh/Rescan for Programmers</span> button. The <span class="boldname">FlashPro JTAG</span> programmer panel opens in the <span class="boldname">FlashPro</span> window.</li>
            <li value="6">In the <span class="boldname">FlashPro JTAG</span> programmer panel, confirm that the <span class="boldname">Programmer Name</span> field lists the correct programmer ID number (Figure 2).</li>
        </ol>
        <div class="figcap">
            <p>Figure 2 FlashPro - [ProjectName] Window</p>
        </div>
        <p>
            <img src="Resources/Images/flashproprojectfile_600x359.jpg" title="FlashPro Project File Window" alt="Screenshot of the FlashPro Project File window" style="width: 600;height: 359;" />
        </p>
        <ol data-mc-continue="true">
            <li value="7">In the main menu, select <span class="boldname">Programmers</span> &gt; <span class="boldname">Scan Chain</span>. The <span class="boldname">Select programmer(s)</span> dialog window opens (Figure 3).</li>
        </ol>
        <div class="figcap">
            <p>Figure 3 Select programmer(s) Dialog Window</p>
        </div>
        <p>
            <img src="Resources/Images/selectprogdialogwindow.jpg" title="Select programmer(s) Dialog Window" alt="Screenshot of Select programmer(s) dialog window" />
        </p>
        <ol data-mc-continue="true">
            <li value="8">Check the box next to the programmer ID number.</li>
            <li value="9">Click the <span class="buttonname">OK</span> button.</li>
            <li value="10">Confirm that the message <span class="msgtext">Scan Chain PASSED</span> appears in the <span class="boldname">Programmer Status</span> field of the <span class="boldname">FlashPro</span> window.</li>
            <li value="11">Confirm that this message appears in the <span class="boldname">Output Message</span> panel on the <span class="boldname">FlashPro</span> window:</li>
        </ol><span class="msglist"><p>programmer '[ID number]' : Device 1: 1MCS160 Mfr: Microsemi Part: MCS150</p></span>
        <ol data-mc-continue="true">
            <li value="12">Click the <span class="buttonname">Configure STAPL File</span> button in the <span class="boldname">FlashPro</span> window. The <span class="boldname">Load STAPL File</span> window opens.</li>
            <li value="13">Click the <span class="buttonname">Browse...</span> button and navigate to the location where the STAPL file (<span class="filename">filename.stp</span>) is stored (Figure 4).</li>
        </ol>
        <div class="figcap">
            <p>Figure 4 Load STAPL File Window</p>
        </div>
        <p>
            <img src="Resources/Images/loadstaplfilewindow.jpg" title="Load STAPL File Window" alt="Screenshot of the Load STAPL File window" />
        </p>
        <ol data-mc-continue="true">
            <li value="14">Select the <span class="filename">filename.stp</span> file.</li>
            <li value="15">Click the <span class="buttonname">Open</span> button.</li>
            <li value="16">Confirm that there are no error messages in the <span class="boldname">Status Messages</span> panel at the bottom of the <span class="boldname">FlashPro</span> window. If there are no error messages, the <span class="filename">filename.stp</span> file is properly loaded.</li>
        </ol>
        <div class="figcap">
            <p>Figure 5 Status Messages Panel in FlashPro Window</p>
        </div>
        <p>
            <img src="Resources/Images/flashprostatusmsg_600x468.jpg" title="Status Messages Panel in FlashPro Window" alt="Screenshot of the Status Messages panel in the FlashPro window" style="width: 600;height: 468;" />
        </p>
        <ol data-mc-continue="true">
            <li value="17">Click the <span class="buttonname">PROGRAM</span> button in the <span class="boldname">FlashPro</span> window to start programmimg.</li>
            <li value="18">Check for any of these error messages in the <span class="boldname">Status Messages</span> panel on the <span class="boldname">FlashPro</span> window:<ul><li value="1"><span class="msglist">Error: programmer '32367': External voltage 1010 mV is detected on Vddp.</span></li><li value="2"><span class="msglist">Error: programmer '32367': Scan Chain FAILED.</span></li><li value="3"><span class="msglist">Error: Failed to run programming.</span></li></ul></li>
        </ol>
        <div class="note">
            <p><span class="boldname">NOTE:</span> If any of these error messages appear, the scan chain failed. Connect a 100Ω resistor between 3.3V and ground on the controller area network (CAN) bus master (CBM) printed circuit board (PCB) and repeat Steps 11 through 17. After the scan chain passes, remove the resistor.</p>
        </div>
        <ol data-mc-continue="true">
            <li value="19">Wait approximately 5 minutes for the programming, programmed bits verification, and non-programmed bits verification to finish.</li>
            <li value="20">Confirm that the message <span class="msgtext">RUN PASSED</span> appears in green letters in the <span class="boldname">Programmer Status</span> field in the <span class="boldname">FlashPro</span> window for each cycle.</li>
            <li value="21">Confirm that the lights on the FlashPro programmer stopped blinking.</li>
            <li value="22">Confirm that the message <span class="msgtext">Executing action PROGRAM PASSED</span> appears in the <span class="boldname">Status Messages</span> panel at the bottom of the <span class="boldname">FlashPro</span> window.</li>
            <li value="23">Close the <span class="boldname">FlashPro</span> window. If a <span class="boldname">Warning</span> dialog window opens, click the <span class="buttonname">Yes</span> button to save the project (Figure 6).</li>
        </ol>
        <div class="figcap">
            <p>Figure 6 Warning Dialog Window</p>
        </div>
        <p>
            <img src="Resources/Images/warningdialogwindow.jpg" title="Warning Dialog Window" alt="Screenshot of Warning dialog window" /> </p>
        <ol data-mc-continue="true">
            <li value="24">Turn off the FlashPro programmer.</li>
            <li value="25">Disconnect the FlashPro programmer harness from the CBM PCB.</li>
        </ol>
        <div class="next">
            <p>This completes the procedure for programming the FPFA. The next procedure is <a href="setting_up_equipment_pic.htm" class="MCXref xref">2.1 Setting up Equipment for PIC Programming</a>.</p>
        </div>
        <p>&#160;</p>
        <hr width="100%" size="0" align="center" />
        <p>Work sample ©2016 <a href="http://www.setcorrect.com/" target="_blank">SETCorrect LLC</a>. All Rights Reserved.</p>
    </body>
</html>